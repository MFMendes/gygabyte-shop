<div class="container-lg mt-5">
    <nav 
      style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E&#34;);" 
      aria-label="breadcrumb"
    >
        <ol class="breadcrumb mb-2">
            <li class="breadcrumb-item active" aria-current="page">CADASTRO DE NOVO PRODUTO</li>
        </ol>
    </nav>

    <form [formGroup]="formProdutos" (ngSubmit)="submitForm()">
        <div class="row mt-3">
            <div class="col-md-4">
                <label class="form-label">Nome</label>
                <input type="text" class="form-control" formControlName="Nome" id="nome" placeholder="Digite o nome" required>
                <span class="text-danger" *ngIf="formProdutos.controls['Nome']?.touched && formProdutos.controls['Nome']?.invalid">Digite o nome do produto</span>
            </div>

            <div class="col-md-4">
                <label class="form-label">Categoria</label>
                <ng-select 
                    [items]="categorias" 
                    bindLabel="Description" 
                    bindValue="Value" 
                    placeholder="Selecione a categoria"
                    formControlName="Categoria"
                    [(ngModel)]="categoriaSelecionada"
                >
                </ng-select>
                <span class="text-danger" *ngIf="formProdutos.controls['Categoria']?.touched && formProdutos.controls['Categoria']?.invalid">Selecione a categoria do produto</span>
            </div>

            <div class="col-md-4">
                <label class="form-label">Quantidade</label>
                <input type="number" class="form-control" formControlName="Quantidade" id="quantidade" placeholder="Digite a quantidade" min="1" required>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-md-4">
                <label class="form-label">Preço</label>
                <div class="input-group">
                    <span class="input-group-text">$</span>
                    <input type="number" class="form-control" formControlName="Preco" placeholder="0,00">
                </div>
                <span class="text-danger" *ngIf="formProdutos.controls['Preco']?.touched && formProdutos.controls['Preco']?.invalid">Digite o preço do produto</span>
            </div>

            <div class="col-md-8">
                <div class="mb-3">
                    <label class="form-label">Selecione as fotos do produto</label>
                    <input 
                        class="form-control" 
                        type="file" 
                        formControlName="Files"
                        (change)="uploadFile($event)"
                        multiple
                    >
                    <span class="text-danger" *ngIf="formProdutos.controls['Files']?.touched && formProdutos.controls['Files']?.invalid">Selecione as imagens do produto</span>
                </div>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-md-12">
                <label class="form-label">Descrição</label>
                <textarea class="form-control" formControlName="Descricao" id="descricao" placeholder="Digite a descrição do produto" rows="6" required></textarea>
                <span class="text-danger" *ngIf="formProdutos.controls['Descricao']?.touched && formProdutos.controls['Descricao']?.invalid">Digite a descrição do produto</span>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 d-flex justify-content-end"> 
                <button 
                    type="submit" 
                    class="btn btn-cadastro mt-5"
                    [disabled]="formProdutos.invalid"
                >
                    CADASTRAR
                    <i class="bi bi-plus-circle"></i>
                </button>
            </div>
        </div>
    </form>
</div>